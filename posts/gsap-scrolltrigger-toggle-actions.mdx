---
title: GSAP ScrollTrigger | Toggle Actions
date: "November 28, 2022"
description: Get started with GSAP's ScrollTrigger and create your first scroll-based animation!
thumbnailUrl: "/images/blog/gsap-scrolltrigger-toggle-actions/gsap-scrolltrigger-toggle-actions-tutorial.jpg"
altText: "GSAP ScrollTrigger Toggle Actions"
author: "Gregg Fine"
tags: ["gsap", "scrolltrigger", "scrollytelling"]
url: "gsap-scrolltrigger-toggle-actions"
---

## Introduction

In this article on [**GSAP's ScrollTrigger**](https://greensock.com/docs/v3/Plugins/ScrollTrigger), we'll learn about **toggleActions**.

**toggleActions** give us fine-grained control over our animations when it comes to playing, pausing, restarting, etc.

<br />

We'll start with this initial **HTML** setup for our example's **index.html** file:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="div1"></div>
    <div class="div2">
      <div class="square"></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/
gsap/3.11.3/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/
gsap/3.11.3/ScrollTrigger.min.js"></script>
    <script src="app.js"></script>
  </body>
</html>
```

And this will be our initial CSS for the **style.css** file:

```css
body {
  margin: 0;
}

.div1,
.div2 {
  height: 100vh;
}

.div1 {
  background-color: pink;
}

.div2 {
  background-color: salmon;
}
.square {
  width: 150px;
  height: 20vh;
  background-color: fuchsia;
}
.red {
  background-color: red;
}
```

<Image
  src="/images/blog/gsap-scrolltrigger-toggle-actions/initial-setup.png"
  width={600}
  height={409}
  layout="responsive"
  alt="scrolltrigger markers"
/>

<br />

## Using toggleActions

Our initial **app.js** file will look like this:

```js
gsap.registerPlugin(ScrollTrigger);

gsap.to(".square", {
  x: 700,
  duration: 3,
  scrollTrigger: {
    trigger: ".square",
    start: "top 60%",
    end: "top 40%",
    markers: {
      startColor: "purple",
      endColor: "fuchsia",
      fontSize: "3rem",
    },
  },
});
```

In the browser, we can see our [**markers**](https://www.thecodecreative.com/blog/gsap-scrolltrigger-start-and-end#using-markers): <Syntax>start</Syntax>, <Syntax>end</Syntax>, <Syntax>scroller-start</Syntax>, and <Syntax>scroller-end</Syntax>.
These will help us visualize the way that **toggleActions** work.

Also, notice that, at the moment, the square only animates a single time. i.e. when the top of the trigger element meets the <Syntax>scroller-start</Syntax>.
markers.gif

<Image
  src="/images/blog/gsap-scrolltrigger-toggle-actions/default-animation.gif"
  width={480 / 1.2}
  height={270 / 1.2}
  layout="fixed"
  alt="square defaults to animating only once"
/>

<br />
<br />
<br />

So, to use **toggleActions**, let's add a <Syntax>toggleActions</Syntax> property to the <Syntax>scrollTrigger</Syntax> object in **app.js**.

The value of <Syntax>toggleActions</Syntax> will be a string of keywords. (_We'll use an empty string as a placeholder for now._)

These keywords represent the actions triggered by the events.

```js
gsap.registerPlugin(ScrollTrigger);

gsap.to(".square", {
  x: 700,
  duration: 3,
  scrollTrigger: {
    trigger: ".square",
    start: "top 60%",
    end: "top 40%",
    toggleActions: "",
    markers: {
      startColor: "purple",
      endColor: "fuchsia",
      fontSize: "3rem",
    },
  },
});
```

The possible keywords are:

- play
- pause
- resume
- reverse
- restart
- reset
- complete
- none

We can use <Syntax>none</Syntax> when we don't want an action triggered on an event.

<br />

The four possible events are:

- onEnter
- onLeave
- onEnterBack
- onLeaveBack

(_By the way, you can mix and match these actions with any event_).

## onEnter

Let's experiment with some **toggleActions** keywords now.

In this example, "play none none none" correspond to the <Syntax>onEnter</Syntax>, <Syntax>onLeave</Syntax>, <Syntax>onEnterBack</Syntax>, and <Syntax>onLeaveBack</Syntax> events.

```js
gsap.registerPlugin(ScrollTrigger);

gsap.to(".square", {
  x: 700,
  duration: 3,
  scrollTrigger: {
    trigger: ".square",
    start: "top 60%",
    end: "top 40%",
    toggleActions: "play none none none",
    markers: {
      startColor: "purple",
      endColor: "fuchsia",
      fontSize: "3rem",
    },
  },
});
```

At the moment, our animation plays only once:
the first time the top of the trigger element meets 60% down from the top of the viewport.
This corresponds to the <Syntax>onEnter</Syntax> event.

However, let's have the animation restart each time the trigger element reaches that 60% point.

To do this, we'll replace the <Syntax>play</Syntax> keyword with the <Syntax>restart</Syntax> keyword:

```js
gsap.registerPlugin(ScrollTrigger);

gsap.to(".square", {
  x: 700,
  duration: 3,
  scrollTrigger: {
    trigger: ".square",
    start: "top 60%",
    end: "top 40%",
    toggleActions: "restart none none none",
    markers: {
      startColor: "purple",
      endColor: "fuchsia",
      fontSize: "3rem",
    },
  },
});
```

<Image
  src="/images/blog/gsap-scrolltrigger-toggle-actions/restart.gif"
  width={480 / 1.2}
  height={270 / 1.2}
  layout="fixed"
  alt="square animation restarts on enter"
/>

## onLeave

Let's experiment with the <Syntax>onLeave</Syntax> event and use the <Syntax>reverse</Syntax> keyword.

When the trigger element leaves the scroller zone, the animation will now reverse.
(Note: the <Syntax>scroller-start</Syntax> marker corresponds to <Syntax>onEnter</Syntax>. The <Syntax>scroller-end</Syntax> marker corresponds to <Syntax>onLeave</Syntax>).

```js
gsap.registerPlugin(ScrollTrigger);

gsap.to(".square", {
  x: 700,
  duration: 3,
  scrollTrigger: {
    trigger: ".square",
    start: "top 60%",
    end: "top 40%",
    toggleActions: "restart reverse none none",
    markers: {
      startColor: "purple",
      endColor: "fuchsia",
      fontSize: "3rem",
    },
  },
});
```

<Image
  src="/images/blog/gsap-scrolltrigger-toggle-actions/reverse.gif"
  width={480 / 1.2}
  height={270 / 1.2}
  layout="fixed"
  alt="square animation reverses on leave"
/>

<br />
<br />
<br />

Another keyword we can try for <Syntax>onLeave</Syntax> is <Syntax>pause</Syntax>.

As you might guess, this will pause the animation once the trigger element hits the <Syntax>scroller-end</Syntax>.

```js
gsap.registerPlugin(ScrollTrigger);

gsap.to(".square", {
  x: 700,
  duration: 3,
  scrollTrigger: {
    trigger: ".square",
    start: "top 60%",
    end: "top 40%",
    toggleActions: "restart pause none none",
    markers: {
      startColor: "purple",
      endColor: "fuchsia",
      fontSize: "3rem",
    },
  },
});
```

<Image
  src="/images/blog/gsap-scrolltrigger-toggle-actions/pause.gif"
  width={480 / 1.2}
  height={270 / 1.2}
  layout="fixed"
  alt="square animation pauses on leave"
/>

<br />
<br />

## onEnterBack

Let's experiment with the <Syntax>onEnterBack</Syntax> event and use the <Syntax>resume</Syntax> keyword.

```js
gsap.registerPlugin(ScrollTrigger);

gsap.to(".square", {
  x: 700,
  duration: 3,
  scrollTrigger: {
    trigger: ".square",
    start: "top 60%",
    end: "top 40%",
    toggleActions: "restart pause resume none",
    markers: {
      startColor: "purple",
      endColor: "fuchsia",
      fontSize: "3rem",
    },
  },
});
```

Now, notice that the animation continues(resumes) from where it left off once we re-enter the scroller zone.

<Image
  src="/images/blog/gsap-scrolltrigger-toggle-actions/resume.gif"
  width={480 / 1.2}
  height={270 / 1.2}
  layout="fixed"
  alt="square animation resumes when it re-enters scroller zone"
/>

<br />
<br />

## onLeaveBack

For the <Syntax>onLeaveBack</Syntax> event, let's try the <Syntax>reset</Syntax> keyword.

```js
gsap.registerPlugin(ScrollTrigger);

gsap.to(".square", {
  x: 700,
  duration: 3,
  scrollTrigger: {
    trigger: ".square",
    start: "top 60%",
    end: "top 40%",
    toggleActions: "restart pause resume reset",
    markers: {
      startColor: "purple",
      endColor: "fuchsia",
      fontSize: "3rem",
    },
  },
});
```

When the trigger element returns past the <Syntax>scroller-start</Syntax>, the square resets to the left side of the viewport.

<Image
  src="/images/blog/gsap-scrolltrigger-toggle-actions/reset.gif"
  width={480 / 1.2}
  height={270 / 1.2}
  layout="fixed"
  alt="square resets to left side of viewport"
/>

<br />
<br />

Finally, let's try using the <Syntax>complete</Syntax> keyword for the <Syntax>onLeaveBack</Syntax> event.

```js
gsap.registerPlugin(ScrollTrigger);

gsap.to(".square", {
  x: 700,
  duration: 3,
  scrollTrigger: {
    trigger: ".square",
    start: "top 60%",
    end: "top 40%",
    toggleActions: "restart pause resume complete",
    markers: {
      startColor: "purple",
      endColor: "fuchsia",
      fontSize: "3rem",
    },
  },
});
```

<Image
  src="/images/blog/gsap-scrolltrigger-toggle-actions/complete.gif"
  width={480 / 1.2}
  height={270 / 1.2}
  layout="fixed"
  alt="square animation completes when trigger element reaches scroller-start"
/>

As you can see, when the trigger element meets the <Syntax>scroller-start</Syntax> once again, the box jumps to its completion.

---

If you're more of a visual learner, check out the video version of this article:

<YouTube
  id="If_Yp4TCt9c"
  alt="gsap scrolltrigger toggle actions video"
  imgSrc="/images/blog/gsap-scrolltrigger-toggle-actions/gsap-scrolltrigger-toggle-actions-video.jpg"
/>

<Ad
  txt="To go further with GSAP, check out Scrollytelling 101!"
  imgSrc="/images/ads/scrollytelling-101-course.jpg"
  imgWidth="240"
  imgHeight="152"
  href="https://store.thecodecreative.com/scrollytelling"
/>
